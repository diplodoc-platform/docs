# Настройки сборки

Ниже перечислены настройки сборки. Их и [стандартные настройки YFM](../../settings.md) можно задать одним из способов:
* через ключи запуска при выполнении команды `yfm`;
* в [файле конфигурации](../../project/config.md).

Имя ключа запуска соответствует названию настройки.

#|
||
**Ключ запуска** | **Описание**
||
||
`--input, -i` | Путь до директории проекта (обязательный параметр).
||
||
`--output, -o` | Путь до директории, предназначенной для выходных данных (обязательный параметр).
||
||
`--varsPreset` | Название используемого [пресета переменных](../../project/presets.md).
||
||
`--vars, -v` | Значения [переменных](../../syntax/vars.md).
||
||
`--strict, -s`
|
Запуск в строгом режиме.

Предупреждения YFM трактуются как ошибки. По умолчанию выключено.
||
||
`--quiet, -q`
|
Запуск в тихом режиме.

Не выводить логи в stdout. По умолчанию выключено.
||
||
`--config, -c` | Путь до [файла конфигурации](../../project/config.md).
||
||
`--extensions, -e`
|
Подключение внешних расширений при запуске.

Передача пути отличается для exec-флагов и конфигурации .yfm. Для exec-флагов пути указывается относительно директории выполнения команды. Для конфигурации пути передается из директории конфигурации.

Пример:

```bash
yfm -e @diplodoc/openapi-extension
yfm -e ./local-extension
```
||
||
`--lang, --langs` | Настроить поддерживаемые языки.
||
||
`--output-format, -f` | Формат файлов итоговой сборки. Доступные варианты: `html`, `md`. По умолчанию `html`.
||
||
`--allow-html` | Разрешить использование HTML в markdown-файлах.
||
||
`--sanitize-html` | Включить очистку HTML.
||
||
`--merge-includes`
|
Объеденить содержимое [инклюдов](../../project/includes.md) с документацией.

{% note info %}

Используйте вместе с параметром `--output-format 'md'`.

{% endnote %}
||
||
`--resource`, `--resources`, `--allow-custom-resources`, `--static-content`
|
Разрешить загрузку пользовательских ресурсов на статически сгенерированные страницы.
||
||
`--ignore`
|
Не обрабатывать пути, соответствующие шаблону.

Пример:

```bash
build -i ./input -o ./output --ignore *.bad.md
```
или

```bash
build -i ./ -o ./build --ignore ./build
```
||
||
`--ignore-stage`
|
Не обрабатывать файлы оглавления с указанным уровнем. По умолчанию `["skip"]`.
||
||
`--template`
|
Выбрать режим работы [шаблонов](../../syntax/vars.md). По умолчанию включен текстовый режим, который игнорирует блоки кода. Используйте `all` или `code`, для обработки блоков кода.

Возможные значения:

- `text`;

- `all`;

- `code`.
||
||
`--template-vars`
|
Переключить режим обработки [переменных](../../syntax/vars.md#subtitudes) в двойных фигурных скобках. По умолчанию включено.
||
||
`--template-conditions`
|
Переключить режим обработки [условных операторов](../../syntax/vars.md#conditions). По умолчанию включено.
||
||
`--contributors` | Прикреплять участников к файлам.
||
||
`--ignore-author-patterns` | Не прикреплять авторов, если они содержат переданную строку.
||
||
`--lint` | Подключить [файл линтера](../../project/lint.md). По умолчанию включено. Чтобы отключить, используйте `--no-lint`.
||
||
`--changelogs` | Бета-функция. Переключенить обработку синтаксиса экспериментального списка изменений.
||
||
 `--singlePage` | Сборка проекта в виде одного HTML-файла. Подробнее в разделе [Одностраничная сборка](./singlepage.md).
||
||
 `--output-format` | Формат генерации. По умолчанию HTML, но можно настроить [сборку в YFM](build#yfm.md).
||
||
 `--apply-presets` | Подставлять значения переменных из пресетов при сборке в YFM.
||
||
 `--add-system-meta` | Добавить переменные из секции system пресетов в [метаданные](../../syntax/meta.md#meta) файлов. По умолчанию выключено.
||
||
 `--remove-hidden-toc-items` | Удалять скрытые страницы из результата сборки. По умолчанию выключено.
||
||
 `--version` | Текущая версия.
||
||
 `--lint-disabled` | Возможность отключить линтер.
||
||
 `--build-disabled` | Возможность отключить cборку.
||
||
 `--add-map-file` | Добавлять создание file.json со всеми путями к документации. По умолчанию выключено.
||
||
`--use-legacy-conditions` | Подключить обратную совместимость.
||
|#

Чтобы ознакомиться с полным списком ключей, выполните команду `yfm build --help`.
