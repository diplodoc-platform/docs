# Сборка документации

Пакет [CLI](https://www.npmjs.com/package/@diplodoc/cli) предоставляет утилиту `yfm` интерфейса командной строки.

Cборка проекта выполняется командой `yfm build` с параметрами:

* `--input, -i` — путь до директории проекта (по умолчанию — текущая папка);
* `--output, -o` — путь до директории для выходных данных (обязательный параметр).

```shell script
# полная команда
yfm build -i ./input-folder -o ./output-folder

# также, доступна сокращенная форма без build
yfm -o ./output-folder
```

Стандартным выходным форматом сборщика является HTML.

Полный список параметров сборки можно [найти в статье](settings.md) или вывести в консоли командой `yfm build --help`.

## YFM → YFM {#yfm}

Вы можете выполнить промежуточную сборку YFM в YFM. Для этого при выполнении команды укажите ключ запуска `--output-format=md`.

При сборке в YFM выполняются:
* [вставки](../../project/toc.md#includes) и [проверки условия видимости разделов](../../project/toc.md#when) в файлах оглавлений;
* [проверки условия отображения контента](../../syntax/vars.md#conditions) на страницах документа;
* [подстановки переменных](../../syntax/vars.md#subtitudes), если указан параметр `apply-presets`;
* [инлайнинг SVG-изображений](../../syntax/media.md#img-inline);
* [подстановки заголовков статей вместо {#T}](../../syntax/links.md#autotitle).

Используйте этот вид сборки, чтобы поддерживать несколько вариантов документации для разных пользователей. Если в документации есть разделы с внутренней информацией, вы можете держать два репозитория — приватный и публичный, и синхронизировать приватный в публичный с помощью условий.

## Watch-режим {#watch}

{% note info "Beta-функциональность" %}

При возникновении проблем сообщите об этом с помощью [GitHub issues](https://github.com/diplodoc-platform/cli/issues).

{% endnote %}

Вы можете автоматизировать пересборку отдельных статей при их изменении. Для этого вызовите `yfm build` с параметром `--watch`: после сборки проекта программа перейдёт в режим инкрементальной пересборки и будет создавать или обновлять статьи после сохранения изменений в исходных файлах документации.

Для удобства, после пересборки открытого в браузере файла выполняется автоматическая перезагрузка страницы.
