# Создание PDF из документации

Diplodoc может генерировать документацию в формате PDF. Это полезно, когда нужно подготовить материалы для Open Source проекта или проверить верстку перед публикацией.

## Сборка PDF

Чтобы собрать PDF-версию документации, [установите пакет `@diplodoc/pdf-generator`](../settings.md#pdf).

{% list tabs %}

- Локальная сборка

  Выполните команду с флагом `--pdf`:

  ```bash
  yfm -i . -o ./output --pdf
  ```

  - `-i .` — путь к папке с исходниками. В примере это текущая папка;
  - `-o ./output` — путь к папке, куда сохранится результат.


- Настройка `.yfm`

  Добавьте параметр в файл конфигурации `.yfm`:

  ```yaml
  pdf:
    enabled: true
  ```

{% endlist %}

{% note info %}

Для каждого файла `toc.yaml` Diplodoc создает отдельный `single-page.pdf`. Страница в PDF располагаются в том же порядке, что и в оглавлении.

{% endnote %}

## Структура PDF-документа

PDF-документ состоит из трех частей:

1. **Титульная страница**

    Чтобы добавить страницы перед оглавлением, настройте блок `startPages` в `toc.yaml`:

    ```yaml
    pdf:
      startPages:
        - path-to-page-1.md
        - path-to-page-2.md
        - path-to-page-n.md
    ```

    Эти страницы не дублируются в основном оглавлении и отображаются в начале PDF.

    {% note warning %}

    Страницы из `pdf.startPages` не поддерживают [локализацию через `yfm translate`](../tools/docs/translate.md).

    {% endnote %}

    Чтобы проверить верстку в браузере, используйте флаг `--pdf-debug`. Он создаст HTML-версии страниц из `startPages`.

1. **Оглавление**

    Diplodoc автоматически формирует оглавление на основе `toc.yaml`. Каждый пункт в списке — это ссылка на страницу.

    Названия разделов, объединяющих группу статей, отображаются простым текстом.
    Файлы с [атрибутом `hidden: true`](../project/toc.md#hidden) в `toc.yaml` не попадают в PDF. Чтобы включить их, установите [параметр `hiddenPolicy: false`](../settings.md#pdf).

1. **Основной контент**

    В PDF поддерживаются все возможности Diplodoc:

    - блоки Page Constructor;
    - перекрестные ссылки;
    - изображения и другие медиа-файлы.

## Стилизация PDF

Вы можете изменить внешний вид PDF-документа с помощью [кастомных CSS-стилей](../style/css-js.md).

{% note alert %}

Стили, добавленные внутри Markdown-файлов, Diplodoc удаляет при генерации PDF — это сделано в целях безопасности.

{% endnote %}

## Фильтрация контента

Чтобы показывать или скрывать элементы только в PDF-версии, используйте [пресеты](../project/presets.md).

1. Добавьте нужную переменную в `presets.yaml`:

    ```yaml
    pdf:
      version: pdf
    ```

2. Используйте условие в тексте:

    ```markdown
    {% if version == "pdf" %}
    Этот текст появится только в PDF-версии.
    {% endif %}
