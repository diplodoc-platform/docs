# Вставки оглавлений

В [файл оглавления `toc.yaml`](https://docs.yandex-team.ru/docstools/project/toc) можно вставить оглавления из других файлов с расширением `.yaml`. При вставке отображаются все страницы, которые используются в оглавлении.

## Как вставить оглавление

Чтобы включить оглавление как раздел, добавьте в файл `toc.yaml` следующую конструкцию:

```yaml
- name: <название раздела>
  include:
    path: <путь до вставляемого файла>
```

Чтобы включить оглавление без создания раздела, добавьте в файл `toc.yaml` следующую конструкцию:

```yaml
- include: { path: <путь до вставляемого файла> }
```

По умолчанию указывается абсолютный путь от корня проекта.

Во включаемом файле `.yaml` должен быть один блок `items`, который содержит список страниц и разделов.

Пример:

```yaml
items:
  - name: Название страницы
    href: page.md
```

### Режимы вставки оглавлений {#include-mode}

Режимы вставки оглавлений задаются в свойстве `mode`:

* `root_merge` — режим по умолчанию. В нем вместе с оглавлением скопируются все используемые файлы и директории. Копирование происходит с перезаписью файлов. Относительные ссылки не перестраиваются.
* `merge` — аналогично `root_merge`, но путь к файлу с оглавлением указывается относительно файла, в котором вы используете `include`.
* `link` — не изменяет структуру проекта. Относительные ссылки перестраиваются.

{% cut "Примеры использования режимов" %}

Чтобы использовать относительный путь, зададим режим `merge`:

**Вставка страницы**

   
:   ```yaml
    - include: { mode: merge, path: ../relative/path/to/toc.yaml }
    ```

**Вставка раздела**

 
:   ```yaml
    - name: Название раздела
      include:
      path: ../relative/path/to/toc.yaml
      mode: merge
    ```

{% endcut %}


## Переиспользование оглавления в проектах с единым источником

1. В директории с документом-источником создайте файл с общей частью оглавления. 
1. В директорию с документом, собираемым из единого источника, добавьте файл оглавления `toc.yaml`. Включите в него файл оглавления из директории с документом-источником.
1. В директорию с документом, собираемым из единого источника, добавьте [файл `presets.yaml`](presets.md) и все страницы с уникальным для этого документа контентом.

Пример проекта в Аркадии — справка [Яндекс Заданий](https://a.yandex-team.ru/arcadia/docs/support/tasks).
