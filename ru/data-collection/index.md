# О событиях

AppMetrica собирает основные данные об использовании приложений с помощью событий разного типа. Большинство событий регистрируется автоматически, но сбор некоторых событий необходимо настроить вручную.

Собранные данные могут помочь вам понять о том, что происходит в вашем приложении, например, как часто совершались покупки в приложении, сколько пользователей были активны и многое другое.

#|
|| **Событие и его тип** | **Отслеживание** | **Описание** | **Logs API/ Data Stream API** | **Сегментация** | **Отчеты** ||
|| Установки (базовый) | Автоматическое | Фиксируются при первом запуске приложения с инициализированной AppMetrica. | Да | Да |
- [User Acquisition](../mobile-reports/user-acquisition-report.md) ||
|| Старты и завершения сессий (базовый) | Автоматическое | Запуски/завершения приложения с инициализированной AppMetrica. Сессия будет считаться новой, если пользователь вернулся в приложение через период, превышающий заданный таймаут (Android, iOS). Завершение текущей сессии фиксируется в момент начала следующей сессии. Используются в отчетах для определения активных пользователей. | Да | Да, по стартам сессий в заданный период |
- [Вовлеченность](../mobile-reports/engagement-report.md)
- [User Acquisition](../mobile-reports/user-acquisition-report.md)
- [Remarketing](../mobile-reports/remarketing-report.md) ||
|| [Deeplinks](deeplinks.md) (базовый) | Автоматическое / Настраиваемое | Открытие приложения по диплинку, включая Universal Link. Используются для отслеживания ремаркетинговых кампаний. | Да, в Logs API | Да, по диплинкам (если в них переданы трекинговые параметры) |
- [User Acquisition](../mobile-reports/user-acquisition-report.md)
- [Remarketing](../mobile-reports/remarketing-report.md) ||
|| [События](about-events.md) (кастомный) | Настраиваемое | Пользовательские действия, специфичные для вашего приложения (например, использование фичи или переход на определенный экран). | Да | Да, по событиям, включая их параметры |
- [События](../mobile-reports/events-report.md)
- [Воронки](../mobile-reports/funnels-report.md) ||
|| [Свойства профиля](about-profiles.md) (базовый) | Настраиваемое | Характеристики пользователя приложения, например, достигнутый уровень, статус в программе лояльности, внутренний идентификатор. | Да, в Logs API | Да |
- [Профили](../mobile-reports/profile-report.md) ||
|| [In-App покупки](about-revenue.md) (базовый) | Автоматическое / Настраиваемое | События покупок в приложении, которые были оформлены через платформы магазинов приложений (AppStore / Google Play). | Да | Да |
- [In-app и Ad Revenue](../mobile-reports/revenue-report.md) ||
|| [Ad Revenue](about-adrevenue.md) (базовый) | Настраиваемое | Выручка от показов рекламы, полученная из монетизатора и переданные для каждого показа (Impression Level Revenue Data). | Да | Да |
- [In-app и Ad Revenue](../mobile-reports/revenue-report.md)
- [User Acquisition](../mobile-reports/user-acquisition-report.md)
- [Remarketing](../mobile-reports/remarketing-report.md)
- [Когортный анализ](../mobile-reports/cohort-report.md)
- [Воронки](../mobile-reports/funnels-report.md) ||
|| [E-commerce](about-ecommerce.md) (базовый) | Настраиваемое | События для отслеживания цикла взаимодействия с товарами в e-commerce приложениях. | Да | В планах |
- [Ecommerce](../mobile-reports/ecommerce-report.md) ||
|| [In-App подписки](about-subscription.md) (базовый) | Автоматическое | Данные об оформлении и изменении статуса подписки, оформленной через App Store или Google Play. | Нет | Да |
- [In-app и Ad Revenue](../mobile-reports/revenue-report.md)
- [User Acquisition](../mobile-reports/user-acquisition-report.md)
- [Remarketing](../mobile-reports/remarketing-report.md)
- [Воронки](../mobile-reports/funnels-report.md)
- [Когортный анализ](../mobile-reports/cohort-report.md) ||
|| [Крэши](about-crashes-and-errors.md) (базовый) | Автоматическое | События крэшей, которые позволяют отслеживать метрики стабильности и выявлять проблемные срезы, настраивать мониторинг на желаемые пороги. Для деобфускации потребуется загрузка mapping, SO или dSYM-файлов. | Да | Нет |
- [Крэши](../mobile-reports/crashes-and-errors.md) ||
|| [Ошибки](about-crashes-and-errors.md) (базовый) | Настраиваемое | События, которые позволяют отслеживать наиболее популярные ошибки, сгруппированные по идентификатору и стэктрейсу. | Да | Нет |
- [Ошибки](../mobile-reports/crashes-and-errors.md) ||
|| Пуш-токены (базовый) | Автоматическое | События, содержащие специальный идентификатор устройства в системах отправки сообщений Firebase Cloud Messaging (FCM), Apple Push Notification Service (APNS), Huawei Messaging Service (HMS). Нужны для отправки пуш-сообщений в системы напрямую без использования Push API. | Да | Нет | Нет ||
|#

## Верификация событий {#verification-events}

{% note warning "" %}

Верификация доступна только на Android.

{% endnote %}

Каждое приложение подписывается уникальной подписью разработчика, которая представлена в виде отпечатка сертификата. Все события, отправляемые приложением на серверы AppMetrica, сопровождаются этим отпечатком.

Если отпечаток отсутствует или отличается от ожидаемого, это может указывать на искажение данных вашего приложения в AppMetrica.

Для дополнительного отслеживания таких потенциально фродовых действий AppMetrica предлагает использовать параметр `certificate_verification_status`, доступный в Data Stream API. Этот параметр возвращает результат проверки совпадения целевого отпечатка сертификата с тем, который поступил вместе с событием.

{% note warning "" %}

Наличие корректной подписи не гарантирует, что событие не является фродовым.

{% endnote %}

### Как подключить {#how-to}

1. Получите SHA1-отпечаток сертификата у команды разработки вашего приложения.

2. Загрузите отпечаток через API: [Загрузка отпечатка сертификата приложения](../mobile-api/management/fingerprints/fingerprints-android-post.md).

3. Через некоторое время после загрузки, данные, поступающие с вашего приложения на серверы AppMetrica, начнут проверяться на соответствие загруженному сертификату.

4. При выгрузке из Data Stream API добавьте поле `certificate_verification_status`, внутри которого будет результат проверки.

Операции для работы с отпечатками сертификатов:

- [Информация об отпечатках сертификатов приложения](../mobile-api/management/fingerprints/fingerprints-android-get.md)
- [Загрузка отпечатка сертификата приложения](../mobile-api/management/fingerprints/fingerprints-android-post.md)
- [Удаление отпечатка сертификата приложения](../mobile-api/management/fingerprints/fingerprints-android-delete.md)

### FAQ {#faq}

{% cut "У меня больше одного сертификата, что делать?" %}

Загрузите все сертификаты, которые используются вашим приложением.

{% endcut %}

{% cut "Нужно ли мне что-то дополнительно размечать в коде приложения?" %}

Нет, отпечатки будут автоматически отправляться на сервер вместе со всеми типами событий сразу после загрузки целевых сертификатов через API.

{% endcut %}

{% cut "Могу ли я где-то в отчетах увидеть результат валидации?" %}

Нет, сейчас результат валидации доступен только в Data Stream API в поле `certificate_verification_status`.

{% endcut %}

{% cut "Добавят ли это поле в Logs API?" %}

Поле доступно только в Data Stream API.

{% endcut %}

{% cut "Куда отправить предложения и пожелания?" %}

Напишите их, пожалуйста, в [форму](../troubleshooting/improvement-idea.md).

{% endcut %}

## Узнать больше {#learn-more}

- [Лимитирование кастомных событий](../troubleshooting/limit-events.md)

{{ feedback }}

<a href="../troubleshooting/feedback-new">
  <span class="button">Написать в службу поддержки</span>
</a>

{% include notitle [feedback](../_includes/feedback-button.md) %}
