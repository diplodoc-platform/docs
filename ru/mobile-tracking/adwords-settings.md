# Трекинг кампаний Google Ads

AppMetrica отслеживает рекламные кампании Google Ads.

Для отслеживания необходимо связать аккаунты AppMetrica и Google Ads через идентификатор связи, по которому происходит атрибуция источника установки.

## Особенности работы трекинга

Для трекинга Google Ads необходим сбор рекламных идентификаторов устройств (GAID/IDFA). Если рекламные идентификаторы не собираются приложением, трекинг работать не будет.

#### Android

Доступ к [рекламному идентификатору](../sdk/android/get-ad-id) есть по умолчанию.

#### iOS

{% note alert %}

Начиная с версии 14.5 и выше к IDFA у приложений по умолчанию нет доступа. Для трекинга нужно реализовать [запрос доступа к IDFA](../mobile-tracking/ios-tracking#request).

{% endnote %}

Ниже описаны этапы настройки для работы с рекламными кампаниями Google Ads:

## Шаг 1. Получите идентификатор связи в Google Ads {#step1}

Создайте связь с AppMetrica для рекламируемого приложения в интерфейсе Google Ads:

1. Войдите в аккаунт Google Ads и в меню страниц нажмите **Инструменты**&nbsp;![Tools](../../_images/tools.png){width=20px}.
1. В меню разделов выберите **Менеджер данных**.
3. На странице **Менеджер данных** нажмите **Подключить продукт**.
4. Выберите вариант **Сторонняя аналитика приложений** и нажмите **Продолжить**.
5. Нажмите **Создать идентификатор связи**, если создаете связь впервые, или кнопку **+**, если у вас уже есть созданные связи.
6. В поле **Сервис аналитики приложений** выберите из списка элемент **Другой поставщик**. Укажите идентификатор поставщика AppMetrica — 1444794547.
7. Выберите операционную систему мобильного приложения.
8. Найдите рекламируемое приложение, воспользовавшись поиском.
9. Нажмите **Создать идентификатор связи**.
10. Скопируйте полученный идентификатор связи и используйте его при создании трекера.

## Шаг 2. Создайте трекер в AppMetrica {#step2}

[Создайте трекер](add-tracker.md) в интерфейсе AppMetrica. При создании обратите внимание на следующие поля:

1. В разделе **Описание кампании** в поле **Партнер** выберите Google Ads.
2. В появившемся разделе укажите **Идентификатор связи**, который был получен при ее создании.
3. _(Опционально)_ Для отслеживания конверсий в интерфейсе Google Ads, настройте отправку целевых событий в разделе **Настройка постбеков** в AppMetrica. Подробнее о настройке [постбеков](add-tracker.md#step5).

{% note alert %}

Для Google Ads не нужно настраивать **Installation postback**. Атрибуция источника установки происходит по идентификатору связи.

{% endnote %}

## Шаг 3. Импортируйте конверсии {#step3}

После запуска рекламной кампании импортируйте события в интерфейсе Google Ads:

1. В аккаунте Google Ads в меню страниц нажмите **Цели**&nbsp;![Goals](../../_images/goals.png){width=20px}.
2. В меню разделов раскройте список **Конверсии**.
3. Выберите пункт **Сводка**.
4. Нажмите **Создать действие-конверсию**.
5. Выберите **Импорт**&nbsp;→ **Сторонняя аналитика приложений** и нажмите **Продолжить**.
6. Из списка выберите событие `first_open` рекламируемого приложения.

    {% note info %}

    Также из списка можно выбрать целевые события, которые отправляются через [postback](*postback).

    {% endnote %}

7. Нажмите **Импортировать и продолжить**.

{% note alert %}

События в списке для импорта могут отображаться с задержкой. Если события не появились сразу — запустите кампанию в Google Ads и проверьте список через несколько часов.

{% endnote %}

{{ feedback }}

<a href="../troubleshooting/feedback-new.html">
  <span class="button">Написать в службу поддержки</span>
</a>

{% include notitle [feedback](../_includes/feedback-button.md) %}

[*postback]: GET-запрос по заданной ссылке (postback URL), в который можно передать определенные параметры. Для одной кампании можно добавить до 5 запросов. Подробнее о [политике отправки postback](policy.md).

