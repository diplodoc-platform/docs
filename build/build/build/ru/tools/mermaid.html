<!DOCTYPE html>
<html lang="ru" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <base href="../../" />
        <title>Библиотека Mermaid | Diplodoc</title>
        <meta name="generator" content="Diplodoc Platform v5.0.12">
        
        <style type="text/css">html, body {min-height:100vh; height:100vh;}</style>
        <link rel="icon" type="image/x-icon" href="https://storage.yandexcloud.net/diplodoc-www-assets/favicon/favicon.ico">
        
        <link type="text/css" rel="stylesheet" href="_bundle/vendor.css"/>
        <link type="text/css" rel="stylesheet" href="_bundle/app.css"/>
    </head>
    <body class="g-root g-root_theme_light">
        <div id="root"></div>
        <script type="application/json" id="diplodoc-state">
            {"data":{"leading":false,"html":"&lt;p&gt;Mermaid — это наиболее популярная и современная библиотека для создания диаграмм и блок-схем в браузере с помощью простого языка разметки. Она позволяет создавать диаграммы, используя синтаксис, похожий на Markdown.&lt;/p&gt;\n&lt;p&gt;Библиотека имеет множество встроенных шаблонов и функций для создания различных типов диаграмм, например: блок-схемы, графы, деревья, диаграммы Ганта, mind-карты, C4-диаграммы.&lt;/p&gt;\n&lt;p&gt;Список поддерживаемых диаграмм постоянно пополняется, и с ним можно ознакомиться в &lt;a href=\"https://mermaid.js.org/intro/\" target=\"_blank\" rel=\"noreferrer noopener\"&gt;официальной документации&lt;/a&gt;.&lt;/p&gt;\n&lt;h2 id=\"rasshirenie-diplodoc-mermaid\"&gt;&lt;a href=\"ru/tools/mermaid.html#rasshirenie-diplodoc-mermaid\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Расширение Diplodoc Mermaid&lt;/span&gt;&lt;/a&gt;Расширение Diplodoc Mermaid&lt;/h2&gt;\n&lt;p&gt;Это расширение для платформы Diplodoc, которое позволяет поддерживать диаграммы Mermaid.&lt;/p&gt;\n&lt;p&gt;Расширение содержит несколько частей:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"ru/tools/mermaid.html#runtime\"&gt;среда выполнения Mermaid&lt;/a&gt;;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"ru/tools/mermaid.html#plugin\"&gt;плагин преобразования Markdown&lt;/a&gt;;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"ru/tools/mermaid.html#react\"&gt;React hook и компонент для интеллектуального управления Mermaid&lt;/a&gt;.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\"bystryj-start\"&gt;&lt;a href=\"ru/tools/mermaid.html#bystryj-start\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Быстрый старт&lt;/span&gt;&lt;/a&gt;Быстрый старт&lt;/h3&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;Подключите расширение:&lt;/p&gt;\n\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs\"&gt;import mermaid from '@diplodoc/mermaid-extension';\nimport transform from '@diplodoc/transform';\n\nconst {result} = await transform(`\n\\`\\`\\`mermaid\ngraph TD\n   A[Christmas] --&amp;gt;|Get money| B(Go shopping)\n\\`\\`\\`\n`, {\n   plugins: [\n       mermaid.transform({ bundle: false })\n   ]\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"43\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-43\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-43\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-43.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;Подключите среду выполнения Mermaid на вашу страницу:&lt;/p&gt;\n\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs html\"&gt;&lt;span class=\"hljs-tag\"&gt;&amp;lt;&lt;span class=\"hljs-name\"&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"hljs-tag\"&gt;&amp;lt;&lt;span class=\"hljs-name\"&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n        &lt;span class=\"hljs-comment\"&gt;&amp;lt;!-- Информацию о '_assets/mermaid-extension.js' смотрите в разделе 'Плагин преобразования Markdown' --&amp;gt;&lt;/span&gt;\n        &lt;span class=\"hljs-tag\"&gt;&amp;lt;&lt;span class=\"hljs-name\"&gt;script&lt;/span&gt; &lt;span class=\"hljs-attr\"&gt;src&lt;/span&gt;=&lt;span class=\"hljs-string\"&gt;\"_assets/mermaid-extension.js\"&lt;/span&gt; &lt;span class=\"hljs-attr\"&gt;async&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;span class=\"language-handlebars\"&gt;&lt;span class=\"language-xml\"&gt;\n    &lt;span class=\"hljs-tag\"&gt;&amp;lt;/&lt;span class=\"hljs-name\"&gt;head&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"hljs-tag\"&gt;&amp;lt;&lt;span class=\"hljs-name\"&gt;body&lt;/span&gt; &lt;span class=\"hljs-attr\"&gt;style&lt;/span&gt;=&lt;span class=\"hljs-string\"&gt;\"background: #000\"&lt;/span&gt;&amp;gt;&lt;/span&gt;\n       ${result.html}\n        &lt;span class=\"hljs-tag\"&gt;&amp;lt;&lt;span class=\"hljs-name\"&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=\"language-javascript\"&gt;\n            &lt;span class=\"hljs-comment\"&gt;// Информация о 'mermaidJsonp' в разделе 'среда выполнения Mermaid' &lt;/span&gt;\n            &lt;span class=\"hljs-variable language_\"&gt;window&lt;/span&gt;.&lt;span class=\"hljs-property\"&gt;mermaidJsonp&lt;/span&gt; = &lt;span class=\"hljs-variable language_\"&gt;window&lt;/span&gt;.&lt;span class=\"hljs-property\"&gt;mermaidJsonp&lt;/span&gt; || [];\n            &lt;span class=\"hljs-variable language_\"&gt;window&lt;/span&gt;.&lt;span class=\"hljs-property\"&gt;mermaidJsonp&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;push&lt;/span&gt;(&lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;mermaid&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n                mermaid.&lt;span class=\"hljs-title function_\"&gt;initialize&lt;/span&gt;({ &lt;span class=\"hljs-attr\"&gt;theme&lt;/span&gt;: &lt;span class=\"hljs-string\"&gt;'dark'&lt;/span&gt; });\n                mermaid.&lt;span class=\"hljs-title function_\"&gt;run&lt;/span&gt;();\n            });\n        &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=\"hljs-tag\"&gt;&amp;lt;/&lt;span class=\"hljs-name\"&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;\n    &lt;span class=\"hljs-tag\"&gt;&amp;lt;/&lt;span class=\"hljs-name\"&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;\n&lt;span class=\"hljs-tag\"&gt;&amp;lt;/&lt;span class=\"hljs-name\"&gt;html&lt;/span&gt;&amp;gt;&lt;/span&gt;   \n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"49\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-49\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-49\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-49.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\"runtime\"&gt;&lt;a href=\"ru/tools/mermaid.html#runtime\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Cреда выполнения Mermaid&lt;/span&gt;&lt;/a&gt;Cреда выполнения Mermaid&lt;/h3&gt;\n&lt;p&gt;Сложность работы с библиотекой Mermaid в том, что у нее большой размер пакета. Наиболее ожидаемым поведением является его асинхронная загрузка. Но если необходимо отключить опцию &lt;code&gt;startdownload&lt;/code&gt; для Mermaid, то неизвестно, когда Mermaid будет инициализирован.&lt;/p&gt;\n&lt;p&gt;Подготовленная среда выполнения Mermaid предназначена для решения этой проблемы. В ней отключена опция &lt;code&gt;startOnLoad&lt;/code&gt; в Mermaid, чтобы точно контролировать шаг рендеринга. Затем добавляется глобальный обратный вызов &lt;code&gt;mermaidJsonp&lt;/code&gt; для обработки загрузки Mermaid.&lt;/p&gt;\n&lt;p&gt;Кроме того, доступ к API Mermaid ограничивается двумя способами:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;инициализация - настройка Mermaid перед следующим запуском рендеринга;&lt;/li&gt;\n&lt;li&gt;запуск рендеринга диаграмм.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Пример:&lt;/p&gt;\n\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs\"&gt;window.mermaidJsonp = window.mermaidJsonp || [];\n\n// This callback will be called when runtime is loaded\nwindow.mermaidJsonp.push((mermaid) =&amp;gt; {\n    mermaid.initialize({ theme: 'dark' });\n    mermaid.run();\n});\n\n// You can configure more that one callback\nwindow.mermaidJsonp.push((mermaid) =&amp;gt; {\n    console.log('Render diagrams');\n});\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"79\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-79\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-79\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-79.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;h4 id=\"polzovatelskie-parametry-inicializacii\"&gt;&lt;a href=\"ru/tools/mermaid.html#polzovatelskie-parametry-inicializacii\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Пользовательские параметры инициализации&lt;/span&gt;&lt;/a&gt;Пользовательские параметры инициализации&lt;/h4&gt;\n&lt;p&gt;Метод &lt;code&gt;mermaid.initialize&lt;/code&gt; имеет дополнительные параметры конфигурации:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;zoom&lt;/code&gt; - включает функцию масштабирования диаграммы и ее изучения. Может быть логическим значением или объектом с внутренними реквизитами. Значение по умолчанию: false.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;showMenu&lt;/code&gt; - показывает навигационное меню. Значение по умолчанию: false.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;bindKeys&lt;/code&gt; - включает элементы управления &lt;code&gt;wasd&lt;/code&gt;. Значение по умолчанию: false. Используйте параметры &lt;code&gt;w/a/s/d&lt;/code&gt; для просмотра диаграммы, &lt;code&gt;e/q&lt;/code&gt; для увеличения или уменьшения масштаба и &lt;code&gt;r&lt;/code&gt; для изменения положения диаграммы.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;maximumScale&lt;/code&gt; - максимальный размер масштабирования. Значение по умолчанию: 5.&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;resetOnBlur&lt;/code&gt; - сброс положения диаграммы по щелчку мыши. Значение по умолчанию: false.&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\"plugin\"&gt;&lt;a href=\"ru/tools/mermaid.html#plugin\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Плагин преобразования Markdown&lt;/span&gt;&lt;/a&gt;Плагин преобразования Markdown&lt;/h3&gt;\n&lt;p&gt;Конфигурация плагина для пакета &lt;code&gt;@diplodoc/transform&lt;/code&gt;:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;code&gt;runtime&lt;/code&gt; - имя скрипта времени выполнения, который будет отображаться в разделе &lt;code&gt;results script&lt;/code&gt;. Значение по умолчанию: &lt;code&gt;_assets/mermaid-extension.js&lt;/code&gt;.&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;code&gt;bundle&lt;/code&gt; - логический флаг для включения/отключения копирования связанной среды выполнения в целевой каталог. Значение по умолчанию: true.&lt;br /&gt;\nЧтобы узнать где находится целевой каталог выполните &lt;code&gt;&amp;lt;transformer output option&amp;gt;/&amp;lt;plugin runtime option&amp;gt;&lt;/code&gt;&lt;/p&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;code&gt;classes&lt;/code&gt; - дополнительные классы, которые будут добавлены к диаграммам Mermaid. Например: &lt;code&gt;my-own-class and-other-class&lt;/code&gt;.&lt;/p&gt;\n&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h3 id=\"react\"&gt;&lt;a href=\"ru/tools/mermaid.html#react\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;React hook и компонент для интеллектуального управления Mermaid&lt;/span&gt;&lt;/a&gt;React hook и компонент для интеллектуального управления Mermaid&lt;/h3&gt;\n&lt;p&gt;Упрощенное управления Mermaid с помощью react:&lt;/p&gt;\n\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs\"&gt;import React from 'react'\nimport { transform } from '@diplodoc/transform'\nimport mermaid from '@diplodoc/mermaid-extension/plugin'\nimport { MermaidRuntime } from '@diplodoc/mermaid-extension/react'\n\nconst MERMAID_RUNTIME = 'extension:mermaid';\n\nconst Doc: React.FC = ({ content }) =&amp;gt; {\n    const result = transform(content, {\n      plugins: [\n        // Инициализируйте плагин для рендеринга клиент/сервер\n        mermaid.transform({\n          // Не изменять файловую систему\n          bundle: false,\n          // Установите пользовательское имя среды выполнения для поиска в результирующих скриптах\n          runtime: MERMAID_RUNTIME\n        })\n      ]\n    })\n  \n    // Загружайте Mermaid только в том случае, если необходимо отобразить одну или несколько диаграмм\n    if (result.script.includes(MERMAID_RUNTIME)) {\n      // Слишком большую среду выполнения Mermaid загружайте асинхронно\n      import('@diplodoc/mermaid-extension/runtime')\n    }\n  \n    return &amp;lt;div dangerouslySetInnerHTML={{ __html: result.html }} /&amp;gt;\n}\n\nexport const App: React.FC = ({ theme }) =&amp;gt; {\n    return &amp;lt;&amp;gt;\n        &amp;lt;Doc content={`\n            \\`\\`\\`mermaid\n            graph TD\n                A[Christmas] --&amp;gt;|Get money| B(Go shopping)\n                B --&amp;gt; C{Let me think}\n            \\`\\`\\`\n        `}/&amp;gt;\n        &amp;lt;MermaidRuntime\n            zoom={{\n              showMenu: true,\n              bindKeys: true,\n              resetOnBlur: true,\n            }}\n        /&amp;gt;\n    &amp;lt;/&amp;gt;\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"142\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-142\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-142\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-142.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n","meta":{"metadata":[{"name":"generator","content":"Diplodoc Platform v5.0.12"}]},"headings":[{"title":"Расширение Diplodoc Mermaid","href":"ru/tools/mermaid.html#rasshirenie-diplodoc-mermaid","level":2,"items":[{"title":"Быстрый старт","href":"ru/tools/mermaid.html#bystryj-start","level":3},{"title":"Cреда выполнения Mermaid","href":"ru/tools/mermaid.html#runtime","level":3,"items":[{"title":"Пользовательские параметры инициализации","href":"ru/tools/mermaid.html#polzovatelskie-parametry-inicializacii","level":4}]},{"title":"Плагин преобразования Markdown","href":"ru/tools/mermaid.html#plugin","level":3},{"title":"React hook и компонент для интеллектуального управления Mermaid","href":"ru/tools/mermaid.html#react","level":3}]}],"title":"Библиотека Mermaid"},"router":{"pathname":"ru/tools/mermaid","depth":3,"base":"../../"},"lang":"ru","langs":["en","ru"],"viewerInterface":{"favicon-src":"https://storage.yandexcloud.net/diplodoc-www-assets/favicon/favicon.ico"}}
        </script>
        <script type="application/javascript">
            const data = document.querySelector('script#diplodoc-state');
            window.__DATA__ = JSON.parse((function unescape(string) {
                return string.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&amp;/g, "&");
              })(data.innerText));
            window.STATIC_CONTENT = false;
        </script>
        <script type="application/javascript" defer src="ru/toc.js"></script>
        <script type="application/javascript" defer src="_bundle/react.js"></script>
        <script type="application/javascript" defer src="_bundle/app.js"></script>
        <script type="application/javascript" defer src="_bundle/vendor.js"></script>
        
    </body>
</html>