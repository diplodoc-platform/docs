<!DOCTYPE html>
<html lang="ru" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <base href="../../" />
        <title>Diplodoc Extensions API | Diplodoc</title>
        <meta name="generator" content="Diplodoc Platform v5.0.12">
        
        <style type="text/css">html, body {min-height:100vh; height:100vh;}</style>
        <link rel="icon" type="image/x-icon" href="https://storage.yandexcloud.net/diplodoc-www-assets/favicon/favicon.ico">
        
        <link type="text/css" rel="stylesheet" href="_bundle/vendor.css"/>
        <link type="text/css" rel="stylesheet" href="_bundle/app.css"/>
        <link type="text/css" rel="stylesheet" href="_assets/cut-extension.css"/>
    </head>
    <body class="g-root g-root_theme_light">
        <div id="root"></div>
        <script type="application/json" id="diplodoc-state">
            {"data":{"leading":false,"html":"&lt;p&gt;Diplodoc Extensions API предоставляет мощный механизм для расширения функциональности Diplodoc CLI. Построенный на hook-based системе на основе библиотеки &lt;a href=\"https://github.com/webpack/tapable\" target=\"_blank\" rel=\"noreferrer noopener\"&gt;tappable&lt;/a&gt;, он позволяет создавать модульные, расширяемые и легко интегрируемые компоненты.&lt;/p&gt;\n&lt;p&gt;На базе архитектуры Extensions API так же построены все внутренние модули CLI.&lt;/p&gt;\n&lt;h2 id=\"klyuchevye-osobennosti\"&gt;&lt;a href=\"ru/dev/extensions-api.html#klyuchevye-osobennosti\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Ключевые особенности&lt;/span&gt;&lt;/a&gt;Ключевые особенности&lt;/h2&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;Hook-based Architecture&lt;/strong&gt;: Используйте продвинутую систему hooks для расширения функциональности на различных этапах процесса сборки документации&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Type Safety&lt;/strong&gt;: Полная поддержка TypeScript с подробными определениями типов&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Modular Design&lt;/strong&gt;: Создавайте независимые, переиспользуемые extensions&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Configuration Support&lt;/strong&gt;: Гибкая настройка через файлы конфигурации и параметры командной строки&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Resource Management&lt;/strong&gt;: Встроенные lifecycle hooks для правильной инициализации и очистки ресурсов&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;Logging and Debugging&lt;/strong&gt;: Интегрированная система логирования с несколькими уровнями детализации&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\"bazovye-koncepcii\"&gt;&lt;a href=\"ru/dev/extensions-api.html#bazovye-koncepcii\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Базовые концепции&lt;/span&gt;&lt;/a&gt;Базовые концепции&lt;/h2&gt;\n&lt;h3 id=\"program-i-run\"&gt;&lt;a href=\"ru/dev/extensions-api.html#program-i-run\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Program и Run&lt;/span&gt;&lt;/a&gt;Program и Run&lt;/h3&gt;\n&lt;p&gt;В основе архитектуры Diplodoc лежат два ключевых класса:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;Program&lt;/strong&gt; - базовый класс для всех команд CLI. Он предоставляет:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Систему хуков для расширения функциональности&lt;/li&gt;\n&lt;li&gt;Управление конфигурацией&lt;/li&gt;\n&lt;li&gt;Доступ к логированию&lt;/li&gt;\n&lt;li&gt;Интерфейс для регистрации расширений&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;Run&lt;/strong&gt; - контекст выполнения команды. Содержит:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Доступ к сервисам (TOC, Markdown, Leading и др.)&lt;/li&gt;\n&lt;li&gt;Информацию о текущем состоянии&lt;/li&gt;\n&lt;li&gt;Утилиты для работы с файлами&lt;/li&gt;\n&lt;li&gt;Системы логирования и отладки&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\"huki-i-ih-ispolzovanie\"&gt;&lt;a href=\"ru/dev/extensions-api.html#huki-i-ih-ispolzovanie\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Хуки и их использование&lt;/span&gt;&lt;/a&gt;Хуки и их использование&lt;/h3&gt;\n&lt;p&gt;Хуки - это основной механизм расширения функциональности. Они позволяют:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Встраиваться в различные этапы выполнения программы&lt;/li&gt;\n&lt;li&gt;Модифицировать поведение сервисов&lt;/li&gt;\n&lt;li&gt;Добавлять новую функциональность&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Существует два типа хуков:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;Base Hooks&lt;/strong&gt; - общие хуки программы:&lt;/p&gt;\n\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs typescript\"&gt;&lt;span class=\"hljs-keyword\"&gt;export&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;class&lt;/span&gt; &lt;span class=\"hljs-title class_\"&gt;Extension&lt;/span&gt; {\n    &lt;span class=\"hljs-title function_\"&gt;apply&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;&lt;span class=\"hljs-attr\"&gt;program&lt;/span&gt;: &lt;span class=\"hljs-title class_\"&gt;Build&lt;/span&gt;&lt;/span&gt;) {\n        &lt;span class=\"hljs-comment\"&gt;// Получение базовых hooks&lt;/span&gt;\n        &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; baseHooks = &lt;span class=\"hljs-title function_\"&gt;getBaseHooks&lt;/span&gt;(program);\n        \n        &lt;span class=\"hljs-comment\"&gt;// Hook перед любым запуском&lt;/span&gt;\n        baseHooks.&lt;span class=\"hljs-property\"&gt;BeforeAnyRun&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tap&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyExtension'&lt;/span&gt;, &lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;run&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n            &lt;span class=\"hljs-comment\"&gt;// Инициализация&lt;/span&gt;\n        });\n        \n        &lt;span class=\"hljs-comment\"&gt;// Hook после выполнения&lt;/span&gt;\n        baseHooks.&lt;span class=\"hljs-property\"&gt;AfterAnyRun&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tap&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyExtension'&lt;/span&gt;, &lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;run&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n            &lt;span class=\"hljs-comment\"&gt;// Очистка&lt;/span&gt;\n        });\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"137\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-137\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-137\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-137.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/li&gt;\n&lt;li&gt;\n&lt;p&gt;&lt;strong&gt;Service Hooks&lt;/strong&gt; - специфичные для каждого сервиса:&lt;/p&gt;\n\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs typescript\"&gt;&lt;span class=\"hljs-keyword\"&gt;export&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;class&lt;/span&gt; &lt;span class=\"hljs-title class_\"&gt;Extension&lt;/span&gt; {\n    &lt;span class=\"hljs-title function_\"&gt;apply&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;&lt;span class=\"hljs-attr\"&gt;program&lt;/span&gt;: &lt;span class=\"hljs-title class_\"&gt;Build&lt;/span&gt;&lt;/span&gt;) {\n        &lt;span class=\"hljs-title function_\"&gt;getBaseHooks&lt;/span&gt;(program).&lt;span class=\"hljs-property\"&gt;BeforeAnyRun&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tap&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyExtension'&lt;/span&gt;, &lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;run&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n            &lt;span class=\"hljs-comment\"&gt;// Получение hooks конкретного сервиса&lt;/span&gt;\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; tocHooks = &lt;span class=\"hljs-title function_\"&gt;getTocHooks&lt;/span&gt;(run.&lt;span class=\"hljs-property\"&gt;toc&lt;/span&gt;);\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; markdownHooks = &lt;span class=\"hljs-title function_\"&gt;getMarkdownHooks&lt;/span&gt;(run.&lt;span class=\"hljs-property\"&gt;markdown&lt;/span&gt;);\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; leadingHooks = &lt;span class=\"hljs-title function_\"&gt;getLeadingHooks&lt;/span&gt;(run.&lt;span class=\"hljs-property\"&gt;leading&lt;/span&gt;);\n            \n            &lt;span class=\"hljs-comment\"&gt;// Использование hooks&lt;/span&gt;\n            tocHooks.&lt;span class=\"hljs-property\"&gt;Item&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tap&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyExtension'&lt;/span&gt;, &lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;item&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n                &lt;span class=\"hljs-comment\"&gt;// Обработка элемента TOC&lt;/span&gt;\n            });\n        });\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"143\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-143\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-143\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-143.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h3 id=\"rabota-s-servisami\"&gt;&lt;a href=\"ru/dev/extensions-api.html#rabota-s-servisami\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Работа с сервисами&lt;/span&gt;&lt;/a&gt;Работа с сервисами&lt;/h3&gt;\n&lt;p&gt;Сервисы - это основные компоненты Diplodoc, отвечающие за различные аспекты обработки документации.&lt;br /&gt;\nДоступ к сервисам осуществляется через контекст &lt;code&gt;run&lt;/code&gt;:&lt;/p&gt;\n\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs typescript\"&gt;&lt;span class=\"hljs-keyword\"&gt;export&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;class&lt;/span&gt; &lt;span class=\"hljs-title class_\"&gt;Extension&lt;/span&gt; {\n    &lt;span class=\"hljs-title function_\"&gt;apply&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;&lt;span class=\"hljs-attr\"&gt;program&lt;/span&gt;: &lt;span class=\"hljs-title class_\"&gt;Build&lt;/span&gt;&lt;/span&gt;) {\n        &lt;span class=\"hljs-title function_\"&gt;getBaseHooks&lt;/span&gt;(program).&lt;span class=\"hljs-property\"&gt;BeforeAnyRun&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tap&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyExtension'&lt;/span&gt;, &lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;run&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n            &lt;span class=\"hljs-comment\"&gt;// Доступ к сервисам&lt;/span&gt;\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; {toc, markdown, leading, meta, vars} = run;\n            \n            &lt;span class=\"hljs-comment\"&gt;// Получение hooks сервисов&lt;/span&gt;\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; tocHooks = &lt;span class=\"hljs-title function_\"&gt;getTocHooks&lt;/span&gt;(toc);\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; markdownHooks = &lt;span class=\"hljs-title function_\"&gt;getMarkdownHooks&lt;/span&gt;(markdown);\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; leadingHooks = &lt;span class=\"hljs-title function_\"&gt;getLeadingHooks&lt;/span&gt;(leading);\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; metaHooks = &lt;span class=\"hljs-title function_\"&gt;getMetaHooks&lt;/span&gt;(meta);\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; varsHooks = &lt;span class=\"hljs-title function_\"&gt;getVarsHooks&lt;/span&gt;(vars);\n        });\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"152\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-152\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-152\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-152.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;p&gt;Подробное описание каждого сервиса:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"ru/dev/extensions/services/toc-service.html\"&gt;TOC Service&lt;/a&gt; - управление структурой документации&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"ru/dev/extensions/services/leading-service.html\"&gt;Leading Service&lt;/a&gt; - обработка страниц оглавления&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"ru/dev/extensions/services/markdown-service.html\"&gt;Markdown Service&lt;/a&gt; - трансформация markdown-контента&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"ru/dev/extensions/services/meta-service.html\"&gt;Meta Service&lt;/a&gt; - работа с метаданными документации&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"ru/dev/extensions/services/vars-service.html\"&gt;Vars Service&lt;/a&gt; - управление переменными и шаблонами&lt;/li&gt;\n&lt;/ul&gt;\n&lt;h2 id=\"kogda-ispolzovat-rasshireniya\"&gt;&lt;a href=\"ru/dev/extensions-api.html#kogda-ispolzovat-rasshireniya\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Когда использовать расширения&lt;/span&gt;&lt;/a&gt;Когда использовать расширения&lt;/h2&gt;\n&lt;p&gt;Расширения особенно полезны, когда вам нужно:&lt;/p&gt;\n&lt;ol&gt;\n&lt;li&gt;Добавить новые параметры командной строки в Diplodoc CLI&lt;/li&gt;\n&lt;li&gt;Модифицировать или улучшить процесс сборки документации&lt;/li&gt;\n&lt;li&gt;Добавить поддержку новых типов файлов или методов обработки&lt;/li&gt;\n&lt;li&gt;Интегрироваться с внешними сервисами или API&lt;/li&gt;\n&lt;li&gt;Добавить пользовательские шаги валидации или трансформации документов&lt;/li&gt;\n&lt;/ol&gt;\n&lt;h2 id=\"tipy-rasshirenij\"&gt;&lt;a href=\"ru/dev/extensions-api.html#tipy-rasshirenij\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;Типы расширений&lt;/span&gt;&lt;/a&gt;Типы расширений&lt;/h2&gt;\n&lt;p&gt;Diplodoc поддерживает несколько типов расширений, каждый из которых предназначен для решения определенных задач:&lt;/p&gt;\n&lt;h3 id=\"1-command-extensions\"&gt;&lt;a href=\"ru/dev/extensions-api.html#1-command-extensions\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;1. Command Extensions&lt;/span&gt;&lt;/a&gt;1. Command Extensions&lt;/h3&gt;\n&lt;p&gt;Этот тип расширений позволяет модифицировать CLI-интерфейс Diplodoc. Используйте его, когда нужно:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Добавить новые команды в CLI&lt;/li&gt;\n&lt;li&gt;Расширить существующие команды новыми параметрами&lt;/li&gt;\n&lt;li&gt;Изменить поведение существующих команд&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;В примере ниже показано, как добавить новый параметр к команде:&lt;/p&gt;\n&lt;details class=\"yfm-cut\"&gt;&lt;summary class=\"yfm-cut-title\"&gt;Пример добавления нового параметра к команде\" &lt;/summary&gt;&lt;div class=\"yfm-cut-content\"&gt;\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs typescript\"&gt;&lt;span class=\"hljs-keyword\"&gt;import&lt;/span&gt; {&lt;span class=\"hljs-title class_\"&gt;Build&lt;/span&gt;} &lt;span class=\"hljs-keyword\"&gt;from&lt;/span&gt; &lt;span class=\"hljs-string\"&gt;'@diplodoc/cli'&lt;/span&gt;;\n\n&lt;span class=\"hljs-keyword\"&gt;export&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;class&lt;/span&gt; &lt;span class=\"hljs-title class_\"&gt;Extension&lt;/span&gt; {\n    &lt;span class=\"hljs-title function_\"&gt;apply&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;program&lt;/span&gt;) {\n        &lt;span class=\"hljs-keyword\"&gt;if&lt;/span&gt; (&lt;span class=\"hljs-title class_\"&gt;Build&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;is&lt;/span&gt;(program)) {\n           &lt;span class=\"hljs-title function_\"&gt;getBaseHooks&lt;/span&gt;(program).&lt;span class=\"hljs-property\"&gt;Command&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tap&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyCommand'&lt;/span&gt;, &lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;command&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n              command.&lt;span class=\"hljs-title function_\"&gt;addOption&lt;/span&gt;(&lt;span class=\"hljs-keyword\"&gt;new&lt;/span&gt; &lt;span class=\"hljs-title class_\"&gt;Option&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'--my-option'&lt;/span&gt;));\n           }); \n        }\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"253\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-253\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-253\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-253.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;&lt;/details&gt;&lt;h3 id=\"2-processing-extensions\"&gt;&lt;a href=\"ru/dev/extensions-api.html#2-processing-extensions\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;2. Processing Extensions&lt;/span&gt;&lt;/a&gt;2. Processing Extensions&lt;/h3&gt;\n&lt;p&gt;Processing Extensions предназначены для модификации процесса сборки документации. Они особенно полезны, когда вам нужно:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Изменить содержимое или структуру TOC&lt;/li&gt;\n&lt;li&gt;Трансформировать markdown-контент&lt;/li&gt;\n&lt;li&gt;Добавить пользовательские включатели&lt;/li&gt;\n&lt;li&gt;Выполнить валидацию контента во время сборки&lt;/li&gt;\n&lt;/ul&gt;\n&lt;details class=\"yfm-cut\"&gt;&lt;summary class=\"yfm-cut-title\"&gt;Пример processing extension\" &lt;/summary&gt;&lt;div class=\"yfm-cut-content\"&gt;\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs typescript\"&gt;&lt;span class=\"hljs-keyword\"&gt;export&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;class&lt;/span&gt; &lt;span class=\"hljs-title class_\"&gt;Extension&lt;/span&gt; {\n    &lt;span class=\"hljs-title function_\"&gt;apply&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;&lt;span class=\"hljs-attr\"&gt;program&lt;/span&gt;: &lt;span class=\"hljs-title class_\"&gt;Build&lt;/span&gt;&lt;/span&gt;) {\n        &lt;span class=\"hljs-title function_\"&gt;getBaseHooks&lt;/span&gt;(program).&lt;span class=\"hljs-property\"&gt;BeforeAnyRun&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tap&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyProcessor'&lt;/span&gt;, &lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;run&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n            &lt;span class=\"hljs-comment\"&gt;// Получение hooks нужных сервисов&lt;/span&gt;\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; tocHooks = &lt;span class=\"hljs-title function_\"&gt;getTocHooks&lt;/span&gt;(run.&lt;span class=\"hljs-property\"&gt;toc&lt;/span&gt;);\n            &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; markdownHooks = &lt;span class=\"hljs-title function_\"&gt;getMarkdownHooks&lt;/span&gt;(run.&lt;span class=\"hljs-property\"&gt;markdown&lt;/span&gt;);\n            \n            &lt;span class=\"hljs-comment\"&gt;// Настройка обработки&lt;/span&gt;\n            tocHooks.&lt;span class=\"hljs-property\"&gt;Item&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tapPromise&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyProcessor'&lt;/span&gt;, &lt;span class=\"hljs-title function_\"&gt;async&lt;/span&gt; (item) =&amp;gt; {\n                &lt;span class=\"hljs-comment\"&gt;// Обработка элемента TOC&lt;/span&gt;\n                &lt;span class=\"hljs-keyword\"&gt;return&lt;/span&gt; item;\n            });\n            \n            markdownHooks.&lt;span class=\"hljs-property\"&gt;Resolved&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tapPromise&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyProcessor'&lt;/span&gt;, &lt;span class=\"hljs-title function_\"&gt;async&lt;/span&gt; (content) =&amp;gt; {\n                &lt;span class=\"hljs-comment\"&gt;// Обработка markdown&lt;/span&gt;\n                &lt;span class=\"hljs-keyword\"&gt;return&lt;/span&gt; content;\n            });\n        });\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"289\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-289\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-289\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-289.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;&lt;/details&gt;&lt;h3 id=\"3-integration-extensions\"&gt;&lt;a href=\"ru/dev/extensions-api.html#3-integration-extensions\" class=\"yfm-anchor\" aria-hidden=\"true\"&gt;&lt;span class=\"visually-hidden\" data-no-index=\"true\"&gt;3. Integration Extensions&lt;/span&gt;&lt;/a&gt;3. Integration Extensions&lt;/h3&gt;\n&lt;p&gt;Integration Extensions обеспечивают взаимодействие Diplodoc с внешними сервисами. Используйте их для:&lt;/p&gt;\n&lt;ul&gt;\n&lt;li&gt;Загрузки данных из внешних API&lt;/li&gt;\n&lt;li&gt;Обогащения документации внешними метаданными&lt;/li&gt;\n&lt;li&gt;Синхронизации с другими системами&lt;/li&gt;\n&lt;li&gt;Отправки уведомлений или метрик&lt;/li&gt;\n&lt;/ul&gt;\n&lt;p&gt;Пример integration extension:&lt;/p&gt;\n\n    &lt;div class=\"yfm-clipboard\"&gt;\n        &lt;pre&gt;&lt;code class=\"hljs typescript\"&gt;&lt;span class=\"hljs-keyword\"&gt;export&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;class&lt;/span&gt; &lt;span class=\"hljs-title class_\"&gt;Extension&lt;/span&gt; {\n    &lt;span class=\"hljs-title function_\"&gt;constructor&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;&lt;span class=\"hljs-keyword\"&gt;private&lt;/span&gt; &lt;span class=\"hljs-attr\"&gt;apiKey&lt;/span&gt;: &lt;span class=\"hljs-built_in\"&gt;string&lt;/span&gt;&lt;/span&gt;) {}\n    \n    &lt;span class=\"hljs-title function_\"&gt;apply&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;&lt;span class=\"hljs-attr\"&gt;program&lt;/span&gt;: &lt;span class=\"hljs-title class_\"&gt;Build&lt;/span&gt;&lt;/span&gt;) {\n        &lt;span class=\"hljs-title function_\"&gt;getBaseHooks&lt;/span&gt;(program).&lt;span class=\"hljs-property\"&gt;BeforeAnyRun&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tap&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyIntegration'&lt;/span&gt;, &lt;span class=\"hljs-function\"&gt;(&lt;span class=\"hljs-params\"&gt;run&lt;/span&gt;) =&amp;gt;&lt;/span&gt; {\n            &lt;span class=\"hljs-comment\"&gt;// Интеграция с внешним API&lt;/span&gt;\n            &lt;span class=\"hljs-title function_\"&gt;getLeadingHooks&lt;/span&gt;(run.&lt;span class=\"hljs-property\"&gt;leading&lt;/span&gt;).&lt;span class=\"hljs-property\"&gt;Resolved&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;tapPromise&lt;/span&gt;(&lt;span class=\"hljs-string\"&gt;'MyIntegration'&lt;/span&gt;, &lt;span class=\"hljs-title function_\"&gt;async&lt;/span&gt; (content) =&amp;gt; {\n                &lt;span class=\"hljs-keyword\"&gt;const&lt;/span&gt; externalData = &lt;span class=\"hljs-keyword\"&gt;await&lt;/span&gt; &lt;span class=\"hljs-variable language_\"&gt;this&lt;/span&gt;.&lt;span class=\"hljs-title function_\"&gt;fetchExternalData&lt;/span&gt;(&lt;span class=\"hljs-variable language_\"&gt;this&lt;/span&gt;.&lt;span class=\"hljs-property\"&gt;apiKey&lt;/span&gt;);\n                &lt;span class=\"hljs-keyword\"&gt;return&lt;/span&gt; {\n                    ...content,\n                    externalData\n                };\n            });\n        });\n    }\n\n    &lt;span class=\"hljs-keyword\"&gt;private&lt;/span&gt; &lt;span class=\"hljs-keyword\"&gt;async&lt;/span&gt; &lt;span class=\"hljs-title function_\"&gt;fetchExternalData&lt;/span&gt;(&lt;span class=\"hljs-params\"&gt;&lt;span class=\"hljs-attr\"&gt;apiKey&lt;/span&gt;: &lt;span class=\"hljs-built_in\"&gt;string&lt;/span&gt;&lt;/span&gt;) {\n        &lt;span class=\"hljs-comment\"&gt;// Логика получения данных из внешнего API&lt;/span&gt;\n    }\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n        &lt;button class=\"yfm-clipboard-button\"&gt;\n            &lt;svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-icon\" data-animation=\"323\"&gt;\n                &lt;path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"&gt;&lt;/path&gt;\n                &lt;path stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"&gt;\n                    &lt;animate id=\"visibileAnimation-323\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin&gt;&lt;/animate&gt;\n                    &lt;animate id=\"hideAnimation-323\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-323.end+1\" fill=\"freeze\"&gt;&lt;/animate&gt;\n                &lt;/path&gt;\n            &lt;/svg&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n","meta":{"metadata":[{"name":"generator","content":"Diplodoc Platform v5.0.12"}],"style":["_assets/cut-extension.css"],"script":["_assets/cut-extension.js"]},"headings":[{"title":"Ключевые особенности","href":"ru/dev/extensions-api.html#klyuchevye-osobennosti","level":2},{"title":"Базовые концепции","href":"ru/dev/extensions-api.html#bazovye-koncepcii","level":2,"items":[{"title":"Program и Run","href":"ru/dev/extensions-api.html#program-i-run","level":3},{"title":"Хуки и их использование","href":"ru/dev/extensions-api.html#huki-i-ih-ispolzovanie","level":3},{"title":"Работа с сервисами","href":"ru/dev/extensions-api.html#rabota-s-servisami","level":3}]},{"title":"Когда использовать расширения","href":"ru/dev/extensions-api.html#kogda-ispolzovat-rasshireniya","level":2},{"title":"Типы расширений","href":"ru/dev/extensions-api.html#tipy-rasshirenij","level":2,"items":[{"title":"1. Command Extensions","href":"ru/dev/extensions-api.html#1-command-extensions","level":3},{"title":"2. Processing Extensions","href":"ru/dev/extensions-api.html#2-processing-extensions","level":3},{"title":"3. Integration Extensions","href":"ru/dev/extensions-api.html#3-integration-extensions","level":3}]}],"title":"Diplodoc Extensions API"},"router":{"pathname":"ru/dev/extensions-api","depth":3,"base":"../../"},"lang":"ru","langs":["en","ru"],"viewerInterface":{"favicon-src":"https://storage.yandexcloud.net/diplodoc-www-assets/favicon/favicon.ico"}}
        </script>
        <script type="application/javascript">
            const data = document.querySelector('script#diplodoc-state');
            window.__DATA__ = JSON.parse((function unescape(string) {
                return string.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&amp;/g, "&");
              })(data.innerText));
            window.STATIC_CONTENT = false;
        </script>
        <script type="application/javascript" defer src="ru/toc.js"></script>
        <script type="application/javascript" defer src="_bundle/react.js"></script>
        <script type="application/javascript" defer src="_bundle/app.js"></script>
        <script type="application/javascript" defer src="_bundle/vendor.js"></script>
        <script type="application/javascript" defer src="_assets/cut-extension.js"></script>
        
    </body>
</html>